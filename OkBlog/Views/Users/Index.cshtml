@model IEnumerable<UserViewModel>
@{
    ViewBag.Title = "Список пользователей";
}
<h2>Все пользователи</h2>

<p>
    <a class="add-user" asp-action="Create">Добавить пользователя</a>
</p>

<form method="get" asp-action="Index">
    <p>
        <input type="search" placeholder="Enter User ID ..." name="searchingId" style="width:500px;" />
        <input type="submit" value="Search" class="btn btn-sm btn-primary" /> |
        <a asp-action="Index">Get All Users</a>
    </p>
</form>

<table class="table table-striped">
    <tr><th>Email</th><th>Имя</th><th>Фамилия</th><th>Дата регистрации</th><th>Роли</th></tr>
    <tbody>
        @if (Model.Count() == 0)
        {
            <tr>
                <td colspan="3" style="color:red">
                    No Match Any User
                </td>
            </tr>
        }
        else
        {
            @foreach (var user in Model)
            {
                <tr>
                    <td>@user.Email</td>
                    <td>@user.FirstName</td>
                    <td>@user.LastName</td>
                    <td>@user.Created</td>
                    <td>
                        @foreach (var role in @user.Roles)
                        {
                            <span class="badge bg-secondary text-white">@role</span>
                        }
                    </td>
                    <td>
                        <form class="right-position" asp-action="Delete" asp-route-id="@user.Id" method="post">
                            <a class="btn btn-sm btn-primary" asp-action="Edit" asp-route-id="@user.Id">Изменить</a>
                            <button type="submit" class="btn btn-sm btn-danger">
                                Удалить
                            </button>
                        </form>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>